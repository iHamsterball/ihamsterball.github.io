---
layout: post
keywords: IP地址,网络
description: 网络故障排除
title: 获得多个IPv4地址情况下的网络问题解决备忘
categories: [网络]
tags: [IPv4, 网络]
tldr: true
excerpt: 一种网络问题的解决方案
group: archive
icon: globe
---

之前帮同学弄了一下上不了网的问题，备忘一下</br>
到目前只是知道如何排除这种故障，但是不知道具体的原因，如果有人知道欢迎在评论区告诉我，谢谢</br></br>

在排除问题过程中，首先肯定是判断问题来源了，学校是静态IP的，因此首先肯定是要看IP配置情况的，而这里就出了问题，因为一个寒假同学都没在学校，他的IP地址是每月续费，所以过期了，他开学后又重新申请了一个IP地址。现在问题来了，在输入新的IP地址后确认保存后再进入IPv4设置依旧是空的；查看连接信息发现有问题了，IPv4地址有两个，一个是刚刚设置的，一个是他原来的，因为原来的也是手动配置所以在网上基本没有这种情况发生所以解决时也稍微耗时了一些</br></br>

网上大多数解决获取到两个IPv4地址的情况是在家用路由器环境下，一个是手动设置（或DHCP分配）的正确的IP地址，另一个是169.254.x.x的未获取正确地址的地址，在这种情况下，使用ipconfig命令，参数为/release和/renew，可以分别释放IP地址和向DHCP服务器重新请求IP地址</br>
但是我们的问题是，现在两个IPv4地址均为手动设置的静态IP地址，所以在网上又搜索了一会儿采用了新的方式：</br>
先后执行这两个netsh命令：
<pre><code>netsh winsock reset catalog
netsh int ip reset log
</code></pre>
解决问题了，但是具体问题发生原因不了解，只知道这样的情况能通过这个方式解决